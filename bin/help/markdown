#!/usr/bin/env node

/**
 *  Example program to test default help output.
 *
 *  ./bin/help/defaults
 *  ./bin/help/defaults --help
 */
var path = require('path');
var pkg = path.normalize(
  path.join(__dirname, '..', '..', 'package.json'));
var package = require(pkg);
package.bugs.email = '<bug-gnu-utils@gnu.org>';
var cli = require('../..'), help = cli.help;
var description = "GNU `foo' does nothing interesting except serve ";
description += "as an example for `help2man'.";
var sections = {};
sections.examples = [
  {
    cmd: 'foo',
    description: 'do nothing'
  },
  {
    cmd: 'foo --option',
    description: 'the same thing, giving `--option\''
  }
]
//sections.bugs = false;
//sections.description = false;
var stash = {};
cli(package, 'foo', description)
  .configure({stash: stash, help: {sections: sections, style: 'markdown'}})
  //.use(cli.middleware.color)
  .option('-a, --option', 'an option')
  .option('-b, --another-option[=VALUE]',
    'another option with *some* `inline` ***markdown***')
  .help()
  .version()
  .on('complete', function(req) {
    help.call(this);
  })
  .parse();
